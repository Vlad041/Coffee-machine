import random
print('H A N G M A N')
all_words = ['python', 'java', 'kotlin', 'javascript']
word = random.choice(all_words)
guess = list('-' * len(word))
attempts = 8
used_letters = set()

while attempts > 0:
    print()
    print(''.join(guess))
    if '-' not in guess:
        print('You guessed the word!\n You survived!')
        break
    print('Input a letter:')
    letter = input()
    if letter.isalpha() is False or letter.lower() is False:
        print('It is not an ASCII lowercase letter')
    elif len(letter) != 1:
        print('You should input a single letter')
    elif letter in used_letters:
        print('You already typed this letter')
        attempts -= 1
    elif letter in word:
        position = [p for p, x in enumerate(word) if x == letter]
        for i in position:
            guess[i] = letter
        used_letters.add(letter)
    elif letter not in word:
        print('No such letter in the word')
        attempts -= 1
        used_letters.add(letter)
else:
    print('You are hanged!')
